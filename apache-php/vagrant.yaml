#
# config file for apache / php box
#
# For this to work you need to do a "berks vendor" from the C:\vagrantboxes/apache-php/ directory
# example: berks vendor C:\vagrantboxes/apache-php/cookbooks/ 
# this download the cookbooks from the chef server and supermarket into the directory defined in local_cookbooks_path
# here is the directory structure I used with this.  All files are in the apache-php box
# the cookbook directory will be created by "berks"
#
#   C:.
#    ├───vagrantboxes
#        └───apache-php
#               node_apache.json
#               role_apache.rb
#               role_base.rb
#               vagrant.yaml
#               resources
#               Vagrantfile
#
# Cookbook versions are specified in the Berksfile.  This is the version that will be downloaded.

# what base vm and settings we are using
virtual_machine_base : bento/oracle-7.3
box_name : apache-php
box_memory : 1024
box_cpu : 1

# chef is same version as what we use in the library
# we really only need role_apache for baseic setup.  role_base ensures we get additional library setup settings that 
# system and networking uses 

# node_file_name and role_file_name are actual names of files that will need to exist.  
chef :
    version                 : 12.19.33  
    local_cookbooks_path    : C:\vagrantboxes/apache-php/cookbooks/
    local_roles_path        : C:\vagrantboxes/apache-php/	
    local_nodes_path        : C:\vagrantboxes/apache-php/
    node_file_name          : node_apache
    roles                   :
        -   role_file_name  : role_base
        -   role_file_name  : role_apache

# this is where the code lives and is mapped to the virtual box
# the apache_role file will also need the www_root setup to be the same
syncDir :
    host           : C:\data/www_root
    guest          : /data/www_root
    dmode          : 777
    fmode          : 777

# www host port is setup here     
forward_ports :  
    - host: 8080
      guest: 80
      host_ip: 127.0.0.1
      id: www
    - host: 2222
      guest: 22
      host_ip: 127.0.0.1
      id: ssh      

